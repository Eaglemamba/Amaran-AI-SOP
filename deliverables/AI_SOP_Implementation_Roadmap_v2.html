<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI SOP Implementation Roadmap v3</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap');
  *{margin:0;padding:0;box-sizing:border-box}
  body{font-family:'Poppins','Noto Sans TC',sans-serif;background:#f8f7fc;color:#2d2d3f;min-height:100vh}

  /* Header */
  .header{background:linear-gradient(135deg,#482A77,#79629B);color:white;padding:1.2rem 2rem 0.8rem;text-align:center}
  .header h1{font-size:1.3rem;font-weight:700}
  .header p{font-size:0.78rem;opacity:0.85;margin-top:0.2rem;line-height:1.5}

  /* Summary bar */
  .summary-bar{display:flex;gap:1.5rem;padding:0.7rem 2rem;background:white;border-bottom:1px solid #e8e5f0;flex-wrap:wrap;justify-content:center}
  .summary-item{text-align:center;min-width:90px;padding:0.4rem 1rem}
  .summary-num{font-size:1.2rem;font-weight:700;color:#482A77}
  .summary-label{font-size:0.62rem;color:#7a7a9a;margin-top:0.05rem}

  /* Tab bar */
  .tab-bar{display:flex;background:white;border-bottom:2px solid #e8e5f0;padding:0 2rem;position:sticky;top:0;z-index:100;justify-content:center}
  .tab{padding:0.7rem 1.2rem;font-size:0.78rem;font-weight:600;color:#9a9ab0;cursor:pointer;border-bottom:3px solid transparent;transition:all 0.2s;white-space:nowrap;display:flex;align-items:center;gap:0.4rem}
  .tab:hover{color:#482A77;background:#faf8ff}
  .tab.active{color:#482A77;border-bottom-color:#482A77}
  .tab .tab-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
  .tab .tab-count{font-size:0.62rem;background:#f0edf7;color:#79629B;padding:0.1rem 0.4rem;border-radius:8px;font-weight:700}

  /* Content */
  .main{padding:1.2rem 2rem 2rem;max-width:1100px;margin:0 auto}
  .tab-content{display:none}
  .tab-content.active{display:block}

  /* Phase header inside tab */
  .phase-intro{margin-bottom:1.2rem}
  .phase-intro h2{font-size:1.05rem;font-weight:700;color:#2d2d3f}
  .phase-intro .timeline{font-size:0.78rem;color:#7a7a9a;margin-top:0.15rem}
  .phase-intro .desc{font-size:0.82rem;color:#5a5a6f;margin-top:0.3rem;line-height:1.6}

  /* App cards */
  .app-card{background:white;border-radius:12px;padding:1.1rem 1.4rem;margin-bottom:0.7rem;border-left:4px solid #ccc;display:grid;grid-template-columns:1fr 130px 90px;align-items:start;gap:0.8rem;transition:box-shadow 0.2s}
  .app-card:hover{box-shadow:0 3px 14px rgba(72,42,119,0.08)}
  .app-info h3{font-size:0.9rem;font-weight:600;color:#482A77}
  .app-info .app-zh{font-size:0.76rem;color:#7a7a9a;margin-top:0.08rem}
  .app-info .app-dept{font-size:0.68rem;color:#9a9ab0;margin-top:0.12rem}
  .app-info .app-desc{font-size:0.78rem;color:#5a5a6f;margin-top:0.3rem;line-height:1.55}
  .app-prereq{font-size:0.68rem;color:#9a9ab0;margin-top:0.25rem}
  .app-prereq span{background:#f0edf7;padding:0.08rem 0.35rem;border-radius:4px;margin-left:0.15rem;color:#79629B}
  .app-effort{text-align:center}
  .effort-label{font-size:0.82rem;color:#482A77;font-weight:600}
  .effort-detail{font-size:0.66rem;color:#9a9ab0;margin-top:0.1rem}
  .app-status{text-align:center}
  .status-tag{display:inline-block;font-size:0.66rem;font-weight:600;padding:0.2rem 0.5rem;border-radius:6px}
  .complexity-low{background:#d1fae5;color:#047857}
  .complexity-med{background:#fef3c7;color:#92400e}
  .complexity-high{background:#fee2e2;color:#9f1239}
  .type-doc{background:#e0e7ff;color:#4338ca}

  /* Doc/infra cards */
  .doc-card{background:#fffbeb;border-left-color:#d97706!important}
  .doc-card h3{color:#92400e!important}
  .doc-card .app-desc{color:#78716c}
  .doc-label{font-size:0.58rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:#d97706;margin-bottom:0.15rem}

  /* Decision card */
  .decision-card{background:#eef2ff;border-left-color:#818cf8!important}
  .decision-card h3{color:#4338ca!important}
  .decision-card .app-desc{color:#64748b}

  /* Architecture box */
  .arch-box{background:linear-gradient(135deg,#f0f9ff,#faf5ff);border-radius:12px;padding:1.1rem 1.4rem;margin-bottom:1rem;border-left:4px solid #3167A4}
  .arch-box h3{font-size:0.9rem;font-weight:700;color:#3167A4;margin-bottom:0.4rem}
  .arch-box p{font-size:0.78rem;color:#5a5a6f;line-height:1.55;margin-bottom:0.25rem}
  .arch-compare{display:flex;gap:0.8rem;margin-top:0.6rem}
  .arch-option{flex:1;padding:0.8rem;border-radius:8px;font-size:0.73rem;line-height:1.5}
  .arch-option h4{font-size:0.78rem;font-weight:700;margin-bottom:0.3rem}
  .arch-option p{margin-bottom:0.15rem;color:#5a5a6f}
  .recommended{background:#ecfdf5;border:1px solid #a7f3d0}
  .recommended h4{color:#047857}
  .later{background:#f5f3ff;border:1px solid #ddd6fe}
  .later h4{color:#7c3aed}
  .verdict{font-weight:700;margin-top:0.3rem!important}

  /* Gantt section */
  .gantt-section{background:white;border-radius:12px;padding:1.2rem;overflow-x:auto;margin-top:0.8rem}
  .gantt-title{font-size:0.9rem;font-weight:700;color:#482A77;margin-bottom:0.8rem}
  .gantt-table{width:100%;min-width:950px;border-collapse:collapse}
  .gantt-table th{font-size:0.58rem;font-weight:600;color:#7a7a9a;text-align:center;padding:0.3rem 0.1rem;border-bottom:1px solid #e8e5f0}
  .gantt-table th:first-child{text-align:left;width:200px;font-size:0.65rem}
  .gantt-table td{padding:0.2rem 0.1rem;vertical-align:middle}
  .gantt-table td:first-child{font-size:0.68rem;font-weight:500;color:#2d2d3f;white-space:nowrap}
  .gantt-bar{height:14px;border-radius:3px;opacity:0.85}
  .gantt-bar.dashed{opacity:0.5;background-image:repeating-linear-gradient(45deg,transparent,transparent 3px,rgba(255,255,255,0.3) 3px,rgba(255,255,255,0.3) 6px)!important}
  .gantt-row{border-bottom:1px solid #f5f3fa}
  .gantt-row:hover{background:#faf8ff}
  .doc-row{border-bottom:1px solid #fef3c7}
  .doc-row:hover{background:#fffbeb}
  .doc-row td:first-child{color:#92400e;font-style:italic}

  /* Metrics */
  .metrics-box{background:linear-gradient(135deg,#ecfdf5,#f0f9ff);border-radius:12px;padding:1.2rem 1.4rem;margin-top:0.8rem;border-left:4px solid #047857}
  .metrics-box h3{font-size:0.9rem;font-weight:700;color:#047857;margin-bottom:0.6rem}
  .metrics-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:0.6rem}
  .metric-item{background:white;border-radius:8px;padding:0.7rem;border:1px solid #d1fae5}
  .metric-item h4{font-size:0.72rem;font-weight:700;color:#047857;margin-bottom:0.2rem}
  .metric-item p{font-size:0.7rem;color:#5a5a6f;line-height:1.4}

  /* Notes */
  .notes{margin-top:0.8rem;padding:1rem 1.4rem;background:linear-gradient(135deg,#faf5ff,#f0f9ff);border-radius:12px;border-left:4px solid #482A77}
  .notes h3{font-size:0.88rem;font-weight:700;color:#482A77;margin-bottom:0.4rem}
  .notes p{font-size:0.78rem;color:#5a5a6f;line-height:1.65;margin-bottom:0.3rem}

  @media(max-width:768px){
    .app-card{grid-template-columns:1fr}
    .app-effort,.app-status{text-align:left}
    .header{padding:1rem}
    .main{padding:1rem}
    .tab-bar{overflow-x:auto}
    .tab{padding:0.6rem 0.8rem;font-size:0.7rem}
    .arch-compare{flex-direction:column}
    .metrics-grid{grid-template-columns:1fr}
  }
</style>
</head>
<body>

<div class="header">
  <h1>AI SOP Knowledge Retrieval -- Implementation Roadmap</h1>
  <p>16 applications + 6 supporting deliverables. Markdown + Gemini context window. ~6 months, 1 person part-time.</p>
</div>

<div class="summary-bar">
  <div class="summary-item"><div class="summary-num">16</div><div class="summary-label">Applications</div></div>
  <div class="summary-item"><div class="summary-num">~24 wk</div><div class="summary-label">Timeline</div></div>
  <div class="summary-item"><div class="summary-num">$0</div><div class="summary-label">Infra (P0-2)</div></div>
  <div class="summary-item"><div class="summary-num">MD+LLM</div><div class="summary-label">Architecture</div></div>
  <div class="summary-item"><div class="summary-num">6</div><div class="summary-label">GMP Deliverables</div></div>
</div>

<div class="tab-bar">
  <div class="tab active" data-tab="overview"><span class="tab-dot" style="background:#482A77"></span>Overview<span class="tab-count">All</span></div>
  <div class="tab" data-tab="p0"><span class="tab-dot" style="background:#047857"></span>Phase 0<span class="tab-count">4</span></div>
  <div class="tab" data-tab="p1"><span class="tab-dot" style="background:#047857"></span>Phase 1<span class="tab-count">3</span></div>
  <div class="tab" data-tab="p2"><span class="tab-dot" style="background:#3167A4"></span>Phase 2<span class="tab-count">7</span></div>
  <div class="tab" data-tab="p3"><span class="tab-dot" style="background:#79629B"></span>Phase 3<span class="tab-count">7</span></div>
  <div class="tab" data-tab="future"><span class="tab-dot" style="background:#6b7280"></span>Future<span class="tab-count">1</span></div>
</div>

<div class="main">

<!-- ═══════ OVERVIEW TAB ═══════ -->
<div class="tab-content active" id="tab-overview">

<div class="arch-box">
  <h3>Architecture Decision: Markdown + Gemini (Not RAG/Vector DB)</h3>
  <p>Gemini 2.0 Flash has a 1M token context window. A typical SOP = 2-5K tokens. That means ~200-500 SOPs fit in a single context -- your entire document library.</p>
  <div class="arch-compare">
    <div class="arch-option recommended">
      <h4>Markdown + Gemini (Phase 0-2)</h4>
      <p>Convert SOPs to .md, upload to Gemini context</p>
      <p>Full document = no chunking artifacts</p>
      <p>Exact citations with section numbers</p>
      <p>Zero infrastructure cost</p>
      <p class="verdict" style="color:#047857">Use this for 50-200 SOPs</p>
    </div>
    <div class="arch-option later">
      <h4>Vector DB + RAG (Phase 3+ if needed)</h4>
      <p>Chroma/Weaviate + embeddings + LangChain</p>
      <p>Needed when >500 docs or multi-user</p>
      <p>More complex: chunking, tuning, hosting</p>
      <p>Infrastructure + maintenance overhead</p>
      <p class="verdict" style="color:#7a7a9a">Revisit only at Architecture Decision Gate</p>
    </div>
  </div>
</div>

<div class="gantt-section">
  <div class="gantt-title">Timeline Overview (Technical + Compliance Tracks)</div>
  <table class="gantt-table">
    <thead>
      <tr>
        <th>Application</th>
        <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th>
        <th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th>
        <th>13</th><th>14</th><th>15</th><th>16</th><th>17</th><th>18</th>
        <th>19</th><th>20</th><th>21</th><th>22</th><th>23</th><th>24</th><th>25</th><th>26</th><th>27</th><th>28</th>
      </tr>
    </thead>
    <tbody id="ganttBody"></tbody>
  </table>
</div>

<div class="metrics-box" style="margin-top:1rem">
  <h3>Success Metrics (Measure at Each Phase Gate)</h3>
  <div class="metrics-grid">
    <div class="metric-item"><h4>Search Accuracy</h4><p>% correct SOP references. Target: >85% (P0), >90% (P2)</p></div>
    <div class="metric-item"><h4>Citation Quality</h4><p>% answers with correct section-level citations. Target: >80%</p></div>
    <div class="metric-item"><h4>False Positive Rate</h4><p>% irrelevant results. Target: <15%</p></div>
    <div class="metric-item"><h4>Time Saved per Query</h4><p>Minutes saved vs. manual search. Baseline first</p></div>
    <div class="metric-item"><h4>User Adoption</h4><p>Queries per week by dept. Track from P1</p></div>
    <div class="metric-item"><h4>Data Leakage</h4><p>Zero client data in output. Binary pass/fail</p></div>
  </div>
</div>

<div class="notes" style="margin-top:1rem">
  <h3>Key Assumptions & Notes</h3>
  <p><strong>Resource:</strong> One person part-time (~40-50%). Full-time cuts timeline in half.</p>
  <p><strong>Parallelism:</strong> Phase 1 items run in parallel after SOP Search validates -- same engine, different prompts.</p>
  <p><strong>CC Impact split:</strong> Basic (P1, 1-2 wks, prompt engineering) vs Full Matrix (P2, 4-6 wks, knowledge extraction). Don't conflate.</p>
  <p><strong>GMP compliance runs in parallel:</strong> ~15-20 days of documentation over 6 months. Extends existing QMS.</p>
  <p><strong>Architecture:</strong> Markdown + Gemini for P0-2. Decision Gate at P3 boundary.</p>
  <p><strong>Biggest risk:</strong> SOP Search accuracy in Phase 0. If <80%, everything downstream breaks.</p>
  <p><strong>Cost:</strong> Phase 0-2 = $0 (existing Gemini Enterprise). Customer Service Bot = separate budget.</p>
</div>
</div>

<!-- ═══════ PHASE 0 TAB ═══════ -->
<div class="tab-content" id="tab-p0">
<div class="phase-intro">
  <h2>Phase 0: Foundation Infrastructure</h2>
  <div class="timeline">Week 1-4 | 1 application + 3 supporting deliverables</div>
  <div class="desc">Build the core search engine and all prerequisites. Everything else depends on this phase. If SOP Content Search accuracy is below 80%, stop and fix before proceeding.</div>
</div>

<div class="app-card" style="border-left-color:#047857">
  <div class="app-info">
    <h3>1. SOP Content Search</h3>
    <div class="app-zh">SOP 內容搜尋</div>
    <div class="app-dept">All Depts</div>
    <div class="app-desc"><strong>The critical path.</strong> Build SOP-to-Markdown conversion pipeline, desensitization script, and upload 5-10 pilot SOPs to Gemini. Test natural language queries. Validate citation accuracy against pre-defined test queries.</div>
    <div class="app-prereq">Depends on: <span>None (root node)</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 weeks</div><div class="effort-detail">+ 1 week testing</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card doc-card">
  <div class="app-info">
    <div class="doc-label">Infrastructure</div>
    <h3>Desensitization Script + QA Validation</h3>
    <div class="app-zh">去敏化腳本 + QA 驗證</div>
    <div class="app-dept">Operations + QA</div>
    <div class="app-desc">Python script to strip client names, product codes, batch numbers, pricing from SOPs before upload. QA verifies zero leakage. Runs as pre-processing step before every upload.</div>
  </div>
  <div class="app-effort"><div class="effort-label">3-5 days</div><div class="effort-detail">Script + validation SOP</div></div>
  <div class="app-status"><div class="status-tag complexity-low">Low</div></div>
</div>

<div class="app-card doc-card">
  <div class="app-info">
    <div class="doc-label">Evaluation</div>
    <h3>Acceptance Test Suite (10-15 queries)</h3>
    <div class="app-zh">驗收測試案例集</div>
    <div class="app-dept">Operations + QA</div>
    <div class="app-desc">Define 10-15 test queries with known correct answers. Run at each phase gate. Track: context relevance, groundedness, answer relevance (RAG Triad).</div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 days</div><div class="effort-detail">One-time + reuse</div></div>
  <div class="app-status"><div class="status-tag type-doc">Eval</div></div>
</div>

<div class="app-card doc-card">
  <div class="app-info">
    <div class="doc-label">GMP Documentation</div>
    <h3>System Inventory + AI Use Policy</h3>
    <div class="app-zh">GMP：系統清冊 + AI 使用政策</div>
    <div class="app-dept">QA</div>
    <div class="app-desc">Add AI search tool to computerized system inventory (existing format). Draft 1-page AI Use Policy: acceptable use, human oversight, data protection. Extend existing QMS -- no GAMP-specific framework needed.</div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 days</div><div class="effort-detail">Documentation only</div></div>
  <div class="app-status"><div class="status-tag type-doc">GMP Doc</div></div>
</div>
</div>

<!-- ═══════ PHASE 1 TAB ═══════ -->
<div class="tab-content" id="tab-p1">
<div class="phase-intro">
  <h2>Phase 1: Core Applications (Quick Wins)</h2>
  <div class="timeline">Week 3-8 | 3 applications, all run in parallel</div>
  <div class="desc">Same search engine, different prompts. These are essentially free once SOP Content Search works. Your management demo is CC Impact (Basic) -- show it working on a real change control.</div>
</div>

<div class="app-card" style="border-left-color:#047857">
  <div class="app-info">
    <h3>2. CC Impact Assessment (Basic)</h3>
    <div class="app-zh">變更管控影響評估 (基礎版)</div>
    <div class="app-dept">QA / Operations</div>
    <div class="app-desc"><strong>Phase A -- Text search.</strong> "Which SOPs mention the affected equipment/process?" Prompt engineering on existing knowledge base. Test with 3-5 recent CC cases. This is your management demo.</div>
    <div class="app-prereq">Depends on: <span>SOP Content Search</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">1-2 weeks</div><div class="effort-detail">Prompt engineering + testing</div></div>
  <div class="app-status"><div class="status-tag complexity-low">Low</div></div>
</div>

<div class="app-card" style="border-left-color:#047857">
  <div class="app-info">
    <h3>3. Regulatory Gap Analysis</h3>
    <div class="app-zh">法規 SOP 差異分析</div>
    <div class="app-dept">RA / QA</div>
    <div class="app-desc">Upload regulatory text (PIC/S Annex 1, etc.) alongside SOPs. "Which SOPs don't meet the updated requirement in Section X?" Same engine, different query pattern.</div>
    <div class="app-prereq">Depends on: <span>SOP Content Search</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">1-2 weeks</div><div class="effort-detail">Regulatory doc ingestion + prompts</div></div>
  <div class="app-status"><div class="status-tag complexity-low">Low</div></div>
</div>

<div class="app-card" style="border-left-color:#047857">
  <div class="app-info">
    <h3>4. New Employee Training</h3>
    <div class="app-zh">新人教育訓練</div>
    <div class="app-dept">HR / All Depts</div>
    <div class="app-desc">Training assistant system prompt: answers questions, explains procedures, quizzes on SOP content. Existing knowledge base, minimal effort.</div>
    <div class="app-prereq">Depends on: <span>SOP Content Search</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">1 week</div><div class="effort-detail">System prompt + example Q&A</div></div>
  <div class="app-status"><div class="status-tag complexity-low">Low</div></div>
</div>
</div>

<!-- ═══════ PHASE 2 TAB ═══════ -->
<div class="tab-content" id="tab-p2">
<div class="phase-intro">
  <h2>Phase 2: Expand Knowledge Base + Specialize</h2>
  <div class="timeline">Week 6-16 | 6 applications + 1 GMP deliverable</div>
  <div class="desc">Ingest new document types (equipment, deviations, validation), build specialized query interfaces, and extract institutional knowledge for the full CC impact matrix. GMP Risk Assessment enables team-wide rollout.</div>
</div>

<div class="app-card" style="border-left-color:#d97706">
  <div class="app-info">
    <h3>2b. CC Impact Assessment (Full Matrix)</h3>
    <div class="app-zh">變更管控影響評估 (完整版)</div>
    <div class="app-dept">QA / Ops / Engineering</div>
    <div class="app-desc"><strong>Phase B -- Impact matrix.</strong> Build structured dependency database: equipment-SOP mappings, material-supplier-qualification links, process-validation-regulatory links, customer notification rules. This is institutional knowledge extraction from domain experts, not coding. The bottleneck.</div>
    <div class="app-prereq">Depends on: <span>CC Basic</span> + domain experts from MFG, QA, Supply Chain</div>
  </div>
  <div class="app-effort"><div class="effort-label">4-6 weeks</div><div class="effort-detail">Knowledge extraction</div></div>
  <div class="app-status"><div class="status-tag complexity-high">High</div></div>
</div>

<div class="app-card" style="border-left-color:#3167A4">
  <div class="app-info">
    <h3>5. Equipment Document Search</h3>
    <div class="app-zh">設備文件搜尋</div>
    <div class="app-dept">Engineering</div>
    <div class="app-desc">Ingest equipment manuals, IQ/OQ/PQ protocols, maintenance SOPs. Expand Markdown pipeline for equipment-specific formats.</div>
    <div class="app-prereq">Depends on: <span>SOP Content Search</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 weeks</div><div class="effort-detail">New doc types + pipeline</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#3167A4">
  <div class="app-info">
    <h3>6. Deviation Investigation Reference</h3>
    <div class="app-zh">偏差調查參考</div>
    <div class="app-dept">QA / MFG</div>
    <div class="app-desc">Add deviation/CAPA records. "Show similar deviations and root causes." Requires desensitizing deviation records and linking to SOP references.</div>
    <div class="app-prereq">Depends on: <span>SOP Search</span> <span>CC Impact</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 weeks</div><div class="effort-detail">Deviation data + desensitization</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#3167A4">
  <div class="app-info">
    <h3>7. Validation Cross-Reference</h3>
    <div class="app-zh">驗證文件交叉引用</div>
    <div class="app-dept">QA / Validation</div>
    <div class="app-desc">Ingest validation protocols and reports. "Which validation protocols reference this equipment SOP?" Useful for revalidation triggers.</div>
    <div class="app-prereq">Depends on: <span>CC Impact</span> <span>Equipment Doc</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 weeks</div><div class="effort-detail">Validation doc pipeline</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#3167A4">
  <div class="app-info">
    <h3>8. Customer Audit Preparation</h3>
    <div class="app-zh">客戶稽核準備</div>
    <div class="app-dept">QA</div>
    <div class="app-desc">Combine SOP + validation + training + gap analysis. "What is our compliance status for [audit topic]?" Prompt engineering on existing data.</div>
    <div class="app-prereq">Depends on: <span>Reg Gap</span> <span>Training</span> <span>Validation</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">1-2 weeks</div><div class="effort-detail">Prompt design on existing KB</div></div>
  <div class="app-status"><div class="status-tag complexity-low">Low</div></div>
</div>

<div class="app-card" style="border-left-color:#3167A4">
  <div class="app-info">
    <h3>9. BD Client Technical Q&A</h3>
    <div class="app-zh">BD 客戶技術回覆</div>
    <div class="app-dept">BD / Operations</div>
    <div class="app-desc">BD-facing queries shared externally. May need a separate, more restricted knowledge base with extra desensitization.</div>
    <div class="app-prereq">Depends on: <span>Deviation</span> <span>Audit Prep</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2 weeks</div><div class="effort-detail">Restricted KB + safe prompts</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card doc-card">
  <div class="app-info">
    <div class="doc-label">GMP Documentation</div>
    <h3>Risk Assessment + Change Control Scope</h3>
    <div class="app-zh">GMP：風險評估 + 變更管控範圍</div>
    <div class="app-dept">QA</div>
    <div class="app-desc">Simple risk assessment (human always verifies = low risk). Define change control tiers: minor (prompt tweak), moderate (new data fields), major (API model version upgrade). Enables team-wide rollout in Phase 3.</div>
  </div>
  <div class="app-effort"><div class="effort-label">3-5 days</div><div class="effort-detail">Risk assessment + CC appendix</div></div>
  <div class="app-status"><div class="status-tag type-doc">GMP Doc</div></div>
</div>
</div>

<!-- ═══════ PHASE 3 TAB ═══════ -->
<div class="tab-content" id="tab-p3">
<div class="phase-intro">
  <h2>Phase 3: Scale, Integrate & Aggregate</h2>
  <div class="timeline">Week 14-22 | 5 applications + 2 supporting deliverables</div>
  <div class="desc">Advanced applications that combine multiple knowledge bases. CCS feeds into CC impact assessment. Deviation Report Generation uses [[placeholder]] methodology. Architecture Decision Gate evaluates if Gemini context still works at scale.</div>
</div>

<div class="app-card" style="border-left-color:#79629B">
  <div class="app-info">
    <h3>10. Tech Transfer Knowledge Base</h3>
    <div class="app-zh">技術轉移知識庫</div>
    <div class="app-dept">Operations / PM</div>
    <div class="app-desc">Consolidate validation, training, process SOPs into tech transfer query system. High value for new client onboarding.</div>
    <div class="app-prereq">Depends on: <span>Validation</span> <span>Training</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 weeks</div><div class="effort-detail">Consolidation + structured output</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#79629B">
  <div class="app-info">
    <h3>11. APQR Data Aggregation</h3>
    <div class="app-zh">年度品質回顧彙整</div>
    <div class="app-dept">QA</div>
    <div class="app-desc">Pull deviation trends, CC history, audit findings into APQR summaries. Requires mature data from Phases 1-2.</div>
    <div class="app-prereq">Depends on: <span>Deviation</span> <span>CC Impact</span> <span>Audit Prep</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">2-3 weeks</div><div class="effort-detail">Aggregation + report templates</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#79629B">
  <div class="app-info">
    <h3>12. Contamination Control Strategy</h3>
    <div class="app-zh">污染控制策略</div>
    <div class="app-dept">QA / MFG / Engineering</div>
    <div class="app-desc">Cross-reference cleaning SOPs, EM monitoring procedures, gowning SOPs, and facility design docs against PIC/S Annex 1 CCS requirements. Enables gap identification: "What contamination risks have no documented control?" <strong>CCS is also an upstream input to CC Impact -- every change control should query which CCS elements are affected.</strong></div>
    <div class="app-prereq">Depends on: <span>SOP Search</span> <span>Reg Gap</span> <span>Equipment Doc</span> <span>Deviation</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">3-4 weeks</div><div class="effort-detail">Cross-ref + gap mapping</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#79629B">
  <div class="app-info">
    <h3>13. Deviation Report Generation</h3>
    <div class="app-zh">偏差報告自動生成</div>
    <div class="app-dept">QA / MFG</div>
    <div class="app-desc">Not just search -- actual document generation using [[placeholder]] methodology. Template with placeholders for deviation description, root cause, impacted batches, CAPA, affected SOPs. AI drafts investigation narrative referencing past deviations. Human reviews and finalizes.</div>
    <div class="app-prereq">Depends on: <span>Deviation Investigation</span> <span>SOP Search</span> <span>[[Placeholder]] Methodology</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">3-4 weeks</div><div class="effort-detail">Template + generator</div></div>
  <div class="app-status"><div class="status-tag complexity-med">Medium</div></div>
</div>

<div class="app-card" style="border-left-color:#79629B">
  <div class="app-info">
    <h3>14. Meeting Minutes Search</h3>
    <div class="app-zh">會議記錄搜尋</div>
    <div class="app-dept">All Depts</div>
    <div class="app-desc">Ingest meeting minutes. Low tech but requires buy-in for standardized minute-taking format.</div>
    <div class="app-prereq">Depends on: <span>SOP Content Search</span></div>
  </div>
  <div class="app-effort"><div class="effort-label">1 week</div><div class="effort-detail">Low tech, high change mgmt</div></div>
  <div class="app-status"><div class="status-tag complexity-low">Low</div></div>
</div>

<div class="app-card doc-card">
  <div class="app-info">
    <div class="doc-label">GMP Documentation</div>
    <h3>Validation Summary + Periodic Review</h3>
    <div class="app-zh">GMP：驗證總結 + 定期回顧</div>
    <div class="app-dept">QA</div>
    <div class="app-desc">Summarize all testing results. Establish quarterly review: accuracy trends, incidents, user feedback. Supplier assessment for API providers (Anthropic, Google).</div>
  </div>
  <div class="app-effort"><div class="effort-label">3-5 days</div><div class="effort-detail">Summary + review SOP</div></div>
  <div class="app-status"><div class="status-tag type-doc">GMP Doc</div></div>
</div>

<div class="app-card decision-card">
  <div class="app-info">
    <div class="doc-label" style="color:#818cf8">Decision Gate</div>
    <h3>Architecture Decision Gate</h3>
    <div class="app-zh">架構決策：Gemini Context vs. Vector DB</div>
    <div class="app-dept">Operations</div>
    <div class="app-desc">Evaluate: total docs >500? Multi-user concurrent access needed? Accuracy degrading as context grows? If yes to any, plan migration to Chroma + embeddings. Otherwise stay with Markdown + LLM.</div>
  </div>
  <div class="app-effort"><div class="effort-label">1-2 days</div><div class="effort-detail">Assessment only</div></div>
  <div class="app-status"><div class="status-tag type-doc">Decision</div></div>
</div>
</div>

<!-- ═══════ FUTURE TAB ═══════ -->
<div class="tab-content" id="tab-future">
<div class="phase-intro">
  <h2>Future: Requires Separate Evaluation</h2>
  <div class="timeline">Month 6+ | 1 application</div>
  <div class="desc">External-facing systems have a fundamentally different risk profile. Don't build this until the internal system is proven and governance documentation is complete.</div>
</div>

<div class="app-card" style="border-left-color:#6b7280">
  <div class="app-info">
    <h3>16. Customer Service Bot</h3>
    <div class="app-zh">客戶服務機器人</div>
    <div class="app-dept">BD / CS</div>
    <div class="app-desc">External-facing chatbot. Different risk profile: IT security review, legal approval, separate infrastructure. Not recommended until internal system is mature. This one may need more formal governance (possibly full GAMP if it touches customer-facing quality claims).</div>
    <div class="app-prereq">Depends on: <span>BD Q&A</span> <span>Tech Transfer</span> <span>Validation Summary</span> + IT/Legal</div>
  </div>
  <div class="app-effort"><div class="effort-label">4-8 weeks</div><div class="effort-detail">Separate infra + security + legal</div></div>
  <div class="app-status"><div class="status-tag complexity-high">High</div></div>
</div>
</div>

</div>

<script>
// Tab switching
document.querySelectorAll('.tab').forEach(tab=>{
  tab.addEventListener('click',()=>{
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById('tab-'+tab.dataset.tab).classList.add('active');
    window.scrollTo({top:document.querySelector('.tab-bar').offsetTop,behavior:'smooth'});
  });
});

// Gantt chart
const ganttData=[
  {name:'SOP Content Search',start:1,end:4,color:'#047857',doc:false},
  {name:'  Desensitization Script',start:1,end:2,color:'#047857',doc:false},
  {name:'  Acceptance Test Suite',start:3,end:4,color:'#047857',doc:false},
  {name:'CC Impact (Basic)',start:3,end:5,color:'#047857',doc:false},
  {name:'Regulatory Gap Analysis',start:4,end:6,color:'#047857',doc:false},
  {name:'New Employee Training',start:5,end:6,color:'#047857',doc:false},
  {name:'CC Impact (Full Matrix)',start:6,end:12,color:'#d97706',doc:false},
  {name:'Equipment Doc Search',start:7,end:10,color:'#3167A4',doc:false},
  {name:'Deviation Investigation',start:8,end:11,color:'#3167A4',doc:false},
  {name:'Validation Cross-Ref',start:9,end:12,color:'#3167A4',doc:false},
  {name:'Customer Audit Prep',start:11,end:13,color:'#3167A4',doc:false},
  {name:'BD Client Technical Q&A',start:12,end:15,color:'#3167A4',doc:false},
  {name:'Tech Transfer Knowledge',start:14,end:17,color:'#79629B',doc:false},
  {name:'Contamination Control',start:14,end:18,color:'#79629B',doc:false},
  {name:'Deviation Report Gen',start:15,end:19,color:'#79629B',doc:false},
  {name:'APQR Data Aggregation',start:16,end:20,color:'#79629B',doc:false},
  {name:'Meeting Minutes Search',start:18,end:20,color:'#79629B',doc:false},
  {name:'Customer Service Bot',start:24,end:28,color:'#6b7280',doc:false},
  {name:'System Inventory + AI Policy',start:2,end:4,color:'#6366f1',doc:true},
  {name:'Risk Assessment + CC Scope',start:8,end:10,color:'#6366f1',doc:true},
  {name:'Validation Summary + Review',start:16,end:18,color:'#6366f1',doc:true},
  {name:'Architecture Decision Gate',start:19,end:19,color:'#6366f1',doc:true},
];
const tbody=document.getElementById('ganttBody');
ganttData.forEach(item=>{
  const tr=document.createElement('tr');
  tr.className=item.doc?'gantt-row doc-row':'gantt-row';
  let cells=`<td>${item.name}</td>`;
  for(let w=1;w<=28;w++){
    if(w>=item.start&&w<=item.end){
      const isS=w===item.start,isE=w===item.end;
      const r=`${isS?'4px':'0'} ${isE?'4px':'0'} ${isE?'4px':'0'} ${isS?'4px':'0'}`;
      const cls=item.doc?'gantt-bar dashed':'gantt-bar';
      cells+=`<td><div class="${cls}" style="background:${item.color};border-radius:${r}"></div></td>`;
    }else{cells+=`<td></td>`;}
  }
  tr.innerHTML=cells;
  tbody.appendChild(tr);
});
</script>
</body>
</html>
